&GLOBAL
  PROJECT molopt
  PROGRAM_NAME OPTIMIZE_BASIS
&END GLOBAL
&OPTIMIZE_BASIS

   ! BASIS_TEMPLATE_FILE contains a basis set which is used as a 
   ! starting point for optimization
   BASIS_TEMPLATE_FILE ./BASIS_INPUT

   ! BASIS_WORK_FILE contains the basis set generated with the information below
   BASIS_WORK_FILE WORK_BASIS_STRUCTURE

   ! BASIS_OUTPUT_FILE contains the result basis and intermediate basis set. 
   BASIS_OUTPUT_FILE molopt_all

   ! specify basis set combinations being fitted together
   BASIS_COMBINATIONS 0 0 0 0 0 0 0 0 0 0 0
   BASIS_COMBINATIONS 1 1 1 1 1 1 1 1 1 1 1
   BASIS_COMBINATIONS 2 2 2 2 2 2 2 2 2 2 2

   USE_CONDITION_NUMBER 

   ! specify the weights on the CN for all combinations
   CONDITION_WEIGHT 0.01 ! 0
   CONDITION_WEIGHT 0.01 ! 1
   CONDITION_WEIGHT 0.01 ! 2

   ! specify the weights on the residuums for all combinations
   RESIDUUM_WEIGHT 10  ! 0
   RESIDUUM_WEIGHT 10  ! 1
   RESIDUUM_WEIGHT 10  ! 2

   WRITE_FREQUENCY 100

   &OPTIMIZATION
      MAX_FUN 100000
   &END

   &TRAINING_FILES
     INPUT_FILE_NAME Al2O3-opt.inp
   &END
   &TRAINING_FILES
     INPUT_FILE_NAME AlN-opt.inp
   &END
   &TRAINING_FILES
     INPUT_FILE_NAME H2SO4-opt.inp
   &END
   &TRAINING_FILES
     INPUT_FILE_NAME HSSH-opt.inp
   &END
   &TRAINING_FILES
     INPUT_FILE_NAME S2-opt.inp
   &END
   &TRAINING_FILES
     INPUT_FILE_NAME SiCl4-opt.inp
   &END
   &TRAINING_FILES
     INPUT_FILE_NAME Al2S3-opt.inp
   &END
   &TRAINING_FILES
     INPUT_FILE_NAME Cl2-opt.inp
   &END
   &TRAINING_FILES
     INPUT_FILE_NAME H3PO4-opt.inp
   &END
   &TRAINING_FILES
     INPUT_FILE_NAME S5-opt.inp
   &END
   &TRAINING_FILES
     INPUT_FILE_NAME SiF4-opt.inp
   &END
   &TRAINING_FILES
     INPUT_FILE_NAME AlCl3-opt.inp
   &END
   &TRAINING_FILES
     INPUT_FILE_NAME ClF3-opt.inp
   &END
   &TRAINING_FILES
     INPUT_FILE_NAME HCl-opt.inp
   &END
   &TRAINING_FILES
     INPUT_FILE_NAME PF3-opt.inp
   &END
   &TRAINING_FILES
     INPUT_FILE_NAME SF2-opt.inp
   &END
   &TRAINING_FILES
     INPUT_FILE_NAME SiO2-opt.inp
   &END
   &TRAINING_FILES
     INPUT_FILE_NAME AlF3-opt.inp
   &END
   &TRAINING_FILES
     INPUT_FILE_NAME ClF-opt.inp
   &END
   &TRAINING_FILES
     INPUT_FILE_NAME HCP-opt.inp
   &END
   &TRAINING_FILES
     INPUT_FILE_NAME PF5-opt.inp
   &END
   &TRAINING_FILES
     INPUT_FILE_NAME SF4-opt.inp
   &END
   &TRAINING_FILES
     INPUT_FILE_NAME SiS2-opt.inp
   &END
   &TRAINING_FILES
     INPUT_FILE_NAME AlH3-opt.inp
   &END
   &TRAINING_FILES
     INPUT_FILE_NAME CS2-opt.inp
   &END
   &TRAINING_FILES
     INPUT_FILE_NAME HSH-opt.inp
   &END
   &TRAINING_FILES
     INPUT_FILE_NAME PH3-opt.inp
   &END
   &TRAINING_FILES
     INPUT_FILE_NAME SF6-opt.inp
   &END

############################################################
  &FIT_KIND Al
     BASIS_SET TZV2P-MOLOPT-PBE0-GTH-q3
     INITIAL_DEGREES_OF_FREEDOM COEFFICIENTS
     &DERIVED_BASIS_SETS
        BASIS_SET_NAME TZVP-MOLOPT-PBE0-GTH-q3
        REFERENCE_SET 0
        REMOVE_CONTRACTION 1 3 1
        REMOVE_CONTRACTION 1 2 2
     &END
     &DERIVED_BASIS_SETS
        BASIS_SET_NAME DZVP-MOLOPT-PBE0-GTH-q3
        REFERENCE_SET 0
        REMOVE_CONTRACTION 1 3 1
        REMOVE_CONTRACTION 1 2 2
        REMOVE_CONTRACTION 1 1 3
        REMOVE_CONTRACTION 1 0 3
     &END
   &END
  &FIT_KIND Si
     BASIS_SET TZV2P-MOLOPT-PBE0-GTH-q4
     INITIAL_DEGREES_OF_FREEDOM COEFFICIENTS
     &DERIVED_BASIS_SETS
        BASIS_SET_NAME TZVP-MOLOPT-PBE0-GTH-q4
        REFERENCE_SET 0
        REMOVE_CONTRACTION 1 3 1
        REMOVE_CONTRACTION 1 2 2
     &END
     &DERIVED_BASIS_SETS
        BASIS_SET_NAME DZVP-MOLOPT-PBE0-GTH-q4
        REFERENCE_SET 0
        REMOVE_CONTRACTION 1 3 1
        REMOVE_CONTRACTION 1 2 2
        REMOVE_CONTRACTION 1 1 3
        REMOVE_CONTRACTION 1 0 3
     &END
   &END
  &FIT_KIND P 
     BASIS_SET TZV2P-MOLOPT-PBE0-GTH-q5
     INITIAL_DEGREES_OF_FREEDOM COEFFICIENTS
     &DERIVED_BASIS_SETS
        BASIS_SET_NAME TZVP-MOLOPT-PBE0-GTH-q5
        REFERENCE_SET 0
        REMOVE_CONTRACTION 1 3 1
        REMOVE_CONTRACTION 1 2 2
     &END
     &DERIVED_BASIS_SETS
        BASIS_SET_NAME DZVP-MOLOPT-PBE0-GTH-q5
        REFERENCE_SET 0
        REMOVE_CONTRACTION 1 3 1
        REMOVE_CONTRACTION 1 2 2
        REMOVE_CONTRACTION 1 1 3
        REMOVE_CONTRACTION 1 0 3
     &END
   &END
  &FIT_KIND S 
     BASIS_SET TZV2P-MOLOPT-PBE0-GTH-q6
     INITIAL_DEGREES_OF_FREEDOM COEFFICIENTS
     &DERIVED_BASIS_SETS
        BASIS_SET_NAME TZVP-MOLOPT-PBE0-GTH-q6
        REFERENCE_SET 0
        REMOVE_CONTRACTION 1 3 1
        REMOVE_CONTRACTION 1 2 2
     &END
     &DERIVED_BASIS_SETS
        BASIS_SET_NAME DZVP-MOLOPT-PBE0-GTH-q6
        REFERENCE_SET 0
        REMOVE_CONTRACTION 1 3 1
        REMOVE_CONTRACTION 1 2 2
        REMOVE_CONTRACTION 1 1 3
        REMOVE_CONTRACTION 1 0 3
     &END
   &END
  &FIT_KIND Cl
     BASIS_SET TZV2P-MOLOPT-PBE0-GTH-q7
     INITIAL_DEGREES_OF_FREEDOM COEFFICIENTS
     &DERIVED_BASIS_SETS
        BASIS_SET_NAME TZVP-MOLOPT-PBE0-GTH-q7
        REFERENCE_SET 0
        REMOVE_CONTRACTION 1 3 1
        REMOVE_CONTRACTION 1 2 2
     &END
     &DERIVED_BASIS_SETS
        BASIS_SET_NAME DZVP-MOLOPT-PBE0-GTH-q7
        REFERENCE_SET 0
        REMOVE_CONTRACTION 1 3 1
        REMOVE_CONTRACTION 1 2 2
        REMOVE_CONTRACTION 1 1 3
        REMOVE_CONTRACTION 1 0 3
     &END
   &END
############################################################
   &FIT_KIND H
     BASIS_SET TZV2P-MOLOPT-PBE0-GTH-q1
     INITIAL_DEGREES_OF_FREEDOM NONE
     &DERIVED_BASIS_SETS
        BASIS_SET_NAME TZVP-MOLOPT-PBE0-GTH-q1
        REFERENCE_SET 0
        REMOVE_CONTRACTION 1 1 2
        REMOVE_CONTRACTION 1 2 1
     &END
     &DERIVED_BASIS_SETS
        BASIS_SET_NAME DZVP-MOLOPT-PBE0-GTH-q1
        REFERENCE_SET 0
        REMOVE_CONTRACTION 1 0 3
        REMOVE_CONTRACTION 1 1 2
        REMOVE_CONTRACTION 1 2 1
     &END
  &END   
  &FIT_KIND B
     BASIS_SET TZV2P-MOLOPT-PBE0-GTH-q3
     INITIAL_DEGREES_OF_FREEDOM NONE
     &DERIVED_BASIS_SETS
        BASIS_SET_NAME TZVP-MOLOPT-PBE0-GTH-q3
        REFERENCE_SET 0
        REMOVE_CONTRACTION 1 3 1
        REMOVE_CONTRACTION 1 2 2
     &END
     &DERIVED_BASIS_SETS
        BASIS_SET_NAME DZVP-MOLOPT-PBE0-GTH-q3
        REFERENCE_SET 0
        REMOVE_CONTRACTION 1 3 1
        REMOVE_CONTRACTION 1 2 2
        REMOVE_CONTRACTION 1 1 3
        REMOVE_CONTRACTION 1 0 3
     &END
   &END
  &FIT_KIND C
     BASIS_SET TZV2P-MOLOPT-PBE0-GTH-q4  
     INITIAL_DEGREES_OF_FREEDOM NONE
     &DERIVED_BASIS_SETS
        BASIS_SET_NAME TZVP-MOLOPT-PBE0-GTH-q4
        REFERENCE_SET 0
        REMOVE_CONTRACTION 1 3 1
	REMOVE_CONTRACTION 1 2 2
     &END
     &DERIVED_BASIS_SETS
        BASIS_SET_NAME DZVP-MOLOPT-PBE0-GTH-q4
        REFERENCE_SET 0
        REMOVE_CONTRACTION 1 3 1
        REMOVE_CONTRACTION 1 2 2
        REMOVE_CONTRACTION 1 1 3
        REMOVE_CONTRACTION 1 0 3
     &END
   &END 
   &FIT_KIND N
     BASIS_SET TZV2P-MOLOPT-PBE0-GTH-q5
     INITIAL_DEGREES_OF_FREEDOM NONE
     &DERIVED_BASIS_SETS
        BASIS_SET_NAME TZVP-MOLOPT-PBE0-GTH-q5
        REFERENCE_SET 0
        REMOVE_CONTRACTION 1 3 1
        REMOVE_CONTRACTION 1 2 2
     &END
     &DERIVED_BASIS_SETS
        BASIS_SET_NAME DZVP-MOLOPT-PBE0-GTH-q5
        REFERENCE_SET 0
        REMOVE_CONTRACTION 1 3 1
        REMOVE_CONTRACTION 1 2 2
        REMOVE_CONTRACTION 1 1 3
        REMOVE_CONTRACTION 1 0 3
     &END
   &END
   &FIT_KIND O
     BASIS_SET TZV2P-MOLOPT-PBE0-GTH-q6
     INITIAL_DEGREES_OF_FREEDOM NONE
     &DERIVED_BASIS_SETS
        BASIS_SET_NAME TZVP-MOLOPT-PBE0-GTH-q6
        REFERENCE_SET 0
        REMOVE_CONTRACTION 1 3 1
        REMOVE_CONTRACTION 1 2 2
     &END
     &DERIVED_BASIS_SETS
        BASIS_SET_NAME DZVP-MOLOPT-PBE0-GTH-q6
        REFERENCE_SET 0
        REMOVE_CONTRACTION 1 3 1
        REMOVE_CONTRACTION 1 2 2
        REMOVE_CONTRACTION 1 1 3
        REMOVE_CONTRACTION 1 0 3
     &END
   &END
   &FIT_KIND F
     BASIS_SET TZV2P-MOLOPT-PBE0-GTH-q7
     INITIAL_DEGREES_OF_FREEDOM NONE
     &DERIVED_BASIS_SETS
        BASIS_SET_NAME TZVP-MOLOPT-PBE0-GTH-q7
        REFERENCE_SET 0
        REMOVE_CONTRACTION 1 3 1
        REMOVE_CONTRACTION 1 2 2
     &END
     &DERIVED_BASIS_SETS
        BASIS_SET_NAME DZVP-MOLOPT-PBE0-GTH-q7
        REFERENCE_SET 0
        REMOVE_CONTRACTION 1 3 1
        REMOVE_CONTRACTION 1 2 2
        REMOVE_CONTRACTION 1 1 3
        REMOVE_CONTRACTION 1 0 3
     &END
   &END
&END
